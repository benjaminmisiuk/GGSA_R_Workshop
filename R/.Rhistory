#load the data
df <- read.csv("data/canada_beer.csv")
#load the data
df <- read.csv("Github/data/canada_beer.csv")
#load the data
df <- read.csv("GitHub/GGSA_Workshop/data/canada_beer.csv")
#load the data
df <- read.csv("GitHub/GGSA_R_Workshop/data/canada_beer.csv")
#load the data
df <- read.csv("Documents/GitHub/GGSA_R_Workshop/data/canada_beer.csv")
getwd()
#load the data
df <- read.csv("D:/Documents/GitHub/GGSA_R_Workshop/data/canada_beer.csv")
plot(df$precip, df$beer)
View(df)
plot(df$precip, df$breweries_per_100k)
plot(df$temp, df$breweries_per_100k)
#fit a linear model
lm_mod <- lm(formula = breweries_per_100k ~ temp + precip, data = df)
#predict the x values on the plot using the model
df$lm <- predict(lm_mod, df)
lines(df$temp, df$lm)
#generate normally distributed data
x1 <- rnorm(100, mean = 0, sd = 1)
#plot the data
hist(x1)
#simulate a response variable
y1 <- 2*x1 + rnorm(100, mean = 0, sd = 1)
#create a data frame
df <- data.frame(x1, y1)
df <- df[order(df$x1),]
#plot the data
plot(df$x1, df$y1)
#fit a linear model
lm_mod <- lm(formula = y1 ~ x1)
#predict the x values on the plot using the model
df$lm <- predict(lm_mod, df)
lines(df$x1, df$lm)
#fit a random forest
library(randomForest)
rf_mod <- randomForest(formula = y1 ~ x1)
#predict the x values on the plot using the model
df$rf <- predict(rf_mod, df)
lines(df$x1, df$rf, col = 'red')
#fit a MARS model
library(earth)
mars_mod <- earth(formula = y1 ~ x1)
#predict the x values on the plot using the model
df$mars <- predict(mars_mod, df)
lines(df$x1, df$mars, col = 'green')
lines(df$x1, df$mars, col = 'blue')
order(df$temp)
df$temp
#load the data
df <- read.csv("D:/Documents/GitHub/GGSA_R_Workshop/data/canada_beer.csv")
plot(df$precip, df$breweries_per_100k)
plot(df$temp, df$breweries_per_100k)
#fit a linear model
lm_mod <- lm(formula = breweries_per_100k ~ temp + precip, data = df)
#predict the x values on the plot using the model
df$lm <- predict(lm_mod, df)
order(df$temp)
i <- order(df$temp)
lines(df$temp[i], df$lm[i])
#predict the x values on the plot using the model
df$lm <- predict(lm_mod, df)
i <- order(df$temp)
lines(df$temp[i], df$lm[i])
#fit a linear model between precipitation and breweries per 100k
lm_mod <- lm(formula = breweries_per_100k ~ precip, data = df)
#predict the x values on the plot using the model
df$lm <- predict(lm_mod, df)
i <- order(df$precip)
lines(df$precip[i], df$lm[i])
plot(df$precip, df$breweries_per_100k)
#fit a linear model between precipitation and breweries per 100k
lm_mod <- lm(formula = breweries_per_100k ~ precip, data = df)
#predict the x values on the plot using the model
plot(df$precip, df$breweries_per_100k)
df$lm <- predict(lm_mod, df)
i <- order(df$precip)
lines(df$precip[i], df$lm[i])
lm
lm_mod
#predict how many breweries there would be in a city with 1000mm of precipitation
predict(lm_mod, data.frame(precip = 1000))
#fit a random forest
rf_mod <- randomForest(formula = breweries_per_100k ~ precip, data = df)
#predict the x values on the plot using the model
df$rf <- predict(rf_mod, df)
lines(df$precip[i], df$rf[i], col = 'red')
#fit a MARS model
mars_mod <- earth(formula = breweries_per_100k ~ precip, data = df)
#predict the x values on the plot using the model
df$mars <- predict(mars_mod, df)
lines(df$precip[i], df$mars[i], col = 'blue')
predict(rf_mod, data.frame(precip = 1000))
predict(mars_mod, data.frame(precip = 1000))
#predict how many breweries there would be in a city with 1000mm of precipitation
predict(lm_mod, data.frame(precip = 1000))
predict(rf_mod, data.frame(precip = 1000))
predict(mars_mod, data.frame(precip = 1000))
#fit models with both temperature and precipitation
lm_mod <- lm(formula = breweries_per_100k ~ temp + precip, data = df)
rf_mod <- randomForest(formula = breweries_per_100k ~ temp + precip, data = df)
mars_mod <- earth(formula = breweries_per_100k ~ temp + precip, data = df)
plot(df$temp, df$breweries_per_100k)
#predict how many breweries there would be in a city with 1000mm of precipitation and 5 degrees
predict(lm_mod, data.frame(temp = 5, precip = 1000))
predict(rf_mod, data.frame(temp = 5, precip = 1000))
predict(mars_mod, data.frame(temp = 5, precip = 1000))
lm_mod
summary(lm_mod)
plot(df$temp, df$breweries_per_100k)
#fit a linear model between breweries per 100k and temperature
lm_mod <- lm(formula = breweries_per_100k ~ temp, data = df)
#predict the x values on the plot using the model
df$lm <- predict(lm_mod, df)
i <- order(df$temp)
lines(df$precip[i], df$lm[i])
lines(df$temp[i], df$lm[i])
lm_mod
#fit a random forest
library(randomForest)
rf_mod <- randomForest(formula = breweries_per_100k ~ temp, data = df)
#predict the x values on the plot using the model
df$rf <- predict(rf_mod, df)
lines(df$temp[i], df$rf[i], col = 'red')
#fit a MARS model
library(earth)
mars_mod <- earth(formula = breweries_per_100k ~ temp, data = df)
#predict the x values on the plot using the model
df$mars <- predict(mars_mod, df)
lines(df$temp[i], df$mars[i], col = 'blue')
View(df)
